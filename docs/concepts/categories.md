# –î–∏–∑–∞–π–Ω –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

## 1. –î–∏–∑–∞–π–Ω UI/UX

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç:

- **–ò–µ—Ä–∞—Ä—Ö–∏—é** (—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∏ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- **–¢–∏–ø—ã**: `income` (–¥–æ—Ö–æ–¥—ã) –∏ `expense` (—Ä–∞—Å—Ö–æ–¥—ã)
- **–í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ**: –∏–∫–æ–Ω–∫–∞ + —Ü–≤–µ—Ç
- **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫—É**: `sort_order` –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞
- **–ê—Ä—Ö–∏–≤–∞—Ü–∏—é**: `is_archived` –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã

#### 1. –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (`/dashboard/categories`)

**–í–∞—Ä–∏–∞–Ω—Ç A: –î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

```
üìä –î–æ—Ö–æ–¥—ã
  ‚îú‚îÄ üíº –ó–∞—Ä–ø–ª–∞—Ç–∞
  ‚îú‚îÄ üéÅ –ü–æ–¥–∞—Ä–∫–∏
  ‚îî‚îÄ üìà –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏
     ‚îî‚îÄ üíπ –î–∏–≤–∏–¥–µ–Ω–¥—ã

üí∏ –†–∞—Å—Ö–æ–¥—ã
  ‚îú‚îÄ üè† –ñ–∏–ª—å—ë
  ‚îÇ  ‚îú‚îÄ üèòÔ∏è –ê—Ä–µ–Ω–¥–∞
  ‚îÇ  ‚îú‚îÄ ‚ö° –ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ
  ‚îÇ  ‚îî‚îÄ üîß –†–µ–º–æ–Ω—Ç
  ‚îú‚îÄ üçî –ï–¥–∞
  ‚îÇ  ‚îú‚îÄ üõí –ü—Ä–æ–¥—É–∫—Ç—ã
  ‚îÇ  ‚îî‚îÄ üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã
  ‚îî‚îÄ üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç
     ‚îú‚îÄ ‚õΩ –¢–æ–ø–ª–∏–≤–æ
     ‚îî‚îÄ üöá –û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫**

- –ì—Ä—É–ø–ø—ã –ø–æ —Ç–∏–ø–∞–º (–î–æ—Ö–æ–¥—ã / –†–∞—Å—Ö–æ–¥—ã)
- –í–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã ‚Äî –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏ –¥–ª—è –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –≥—Ä—É–ø–ø

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

- `CategoryTree` ‚Äî –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- `CategoryItem` ‚Äî —ç–ª–µ–º–µ–Ω—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–∏–∫–æ–Ω–∫–∞, —Ü–≤–µ—Ç, –Ω–∞–∑–≤–∞–Ω–∏–µ)
- `CategoryGroup` ‚Äî –≥—Ä—É–ø–ø–∞ –ø–æ —Ç–∏–ø—É (income/expense)
- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é" (FAB –∏–ª–∏ –≤ —à–∞–ø–∫–µ)

#### 2. –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**–ü–æ–ª—è:**

- –ù–∞–∑–≤–∞–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –¢–∏–ø: –î–æ—Ö–æ–¥ / –†–∞—Å—Ö–æ–¥ (—Ä–∞–¥–∏–æ-–∫–Ω–æ–ø–∫–∏ –∏–ª–∏ —Å–µ–ª–µ–∫—Ç)
- –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Å–µ–ª–µ–∫—Ç —Å –ø–æ–∏—Å–∫–æ–º)
- –ò–∫–æ–Ω–∫–∞ (–≤—ã–±–æ—Ä –∏–∑ –Ω–∞–±–æ—Ä–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä lucide-react icons)
- –¶–≤–µ—Ç (color picker –∏–ª–∏ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ü–≤–µ—Ç–∞)
- –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–ª–∏ –≤—Ä—É—á–Ω—É—é)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `CategoryForm`

#### 3. –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö)

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**

- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–∏—Å–∫–æ–º –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Ç–∏–ø—É
- –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π
- –ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä –∏–∑ –Ω–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `CategorySelector`

### –í–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å

**–¶–≤–µ—Ç–∞ —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º:**

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Ü–≤–µ—Ç–æ–≤ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏:

- **–í–µ—Ä—Ö–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**: –∏–º–µ—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞ (—Å–º. [DEFAULT_CATEGORIES.md](./DEFAULT_CATEGORIES.md) –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–∞–ª–∏—Ç—Ä—ã)
- **–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏**: –Ω–∞—Å–ª–µ–¥—É—é—Ç —Ü–≤–µ—Ç –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (color = NULL –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö)
- **–ü–æ–¥-–ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏**: —Ç–∞–∫–∂–µ –Ω–∞—Å–ª–µ–¥—É—é—Ç —Ü–≤–µ—Ç –æ—Ç –≤–µ—Ä—Ö–Ω–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:

- –£—Ç–∏–ª–∏—Ç–∞ `getCategoryColorWithInheritance()` –≤ `lib/utils/category-hierarchy.ts`
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∏—â–µ—Ç —Ü–≤–µ—Ç —É —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –µ—Å–ª–∏ —É —Ç–µ–∫—É—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ color = NULL
- –ï—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—è –Ω–µ—Ç –∏–ª–∏ —É –Ω–µ–≥–æ –Ω–µ—Ç —Ü–≤–µ—Ç–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —Ü–≤–µ—Ç –ø–æ —Ç–∏–ø—É (–∑–µ–ª—ë–Ω—ã–π –¥–ª—è –¥–æ—Ö–æ–¥–æ–≤, –∫—Ä–∞—Å–Ω—ã–π –¥–ª—è —Ä–∞—Å—Ö–æ–¥–æ–≤)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö: `CategoryItem`, `CategoriesTab`, `CategoryPieChart`

**–ò–∫–æ–Ω–∫–∏:**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ lucide-react (—É–∂–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –±–æ–ª–µ–µ 50 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫
- –ü—Ä–∏–Ω—Ü–∏–ø—ã –≤—ã–±–æ—Ä–∞ –∏–∫–æ–Ω–æ–∫:
  - **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∫–æ–Ω–∫–∏** –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `HeartPulse` –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è, `GraduationCap` –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, `Dumbbell` –¥–ª—è —Å–ø–æ—Ä—Ç–∞)
  - **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∏–∫–æ–Ω–∫–∏** –¥–ª—è –æ–±—â–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ShoppingCart`, `Wallet`, `Home`)
  - **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å**: –∫–∞–∂–¥–∞—è –≤–µ—Ä—Ö–Ω—è—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏–º–µ–µ—Ç —Å–≤–æ—é —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∏–∫–æ–Ω–∫—É
  - **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä**: –≤–∫–ª—é—á–∞–µ—Ç –∏–∫–æ–Ω–∫–∏ –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (Car, CarFront, Bus, Train, Plane, Bike), —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π (Gamepad2, Music, Film, Camera), –∑–¥–æ—Ä–æ–≤—å—è (Stethoscope, Pill), —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π (Smartphone, Laptop, Wifi) –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ
  - –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫: —Å–º. `components/features/categories/CategoryForm.tsx` (–º–∞—Å—Å–∏–≤ `availableIcons`)
  - –ú–∞–ø–ø–∏–Ω–≥ –∏–∫–æ–Ω–æ–∫: —Å–º. `components/features/categories/CategoryItem.tsx` (–æ–±—ä–µ–∫—Ç `defaultIcons`)

**–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:**

- –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è: –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞—Å–∫—Ä—ã—Ç–∏—è
- –î–µ—Å–∫—Ç–æ–ø: –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å drag-and-drop –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

## 2. –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –û—Ñ–ª–∞–π–Ω-first

**–û—Å–Ω–æ–≤–Ω–∞—è –ë–î: Supabase (PostgreSQL)**

- ‚úÖ –£–∂–µ –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ `categories` –≤ —Å—Ö–µ–º–µ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–µ—Ä–∞—Ä—Ö–∏–∏ —á–µ—Ä–µ–∑ `parent_id`
- ‚úÖ RLS –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –¢–∏–ø—ã –∏–∑ `lib/db/supabase/types.ts`

**–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: IndexedDB (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)**

- –î–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `SyncManager`
- –ü–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è

**–¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø (MVP):**

1. –•—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ Supabase
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React Query –∏–ª–∏ SWR –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
3. –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI

**–ë—É–¥—É—â–µ–µ (–ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**

1. IndexedDB –∫–∞–∫ primary storage
2. Supabase –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–µ—Ç–∏
4. –û—á–µ—Ä–µ–¥—å –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –æ—Ñ–ª–∞–π–Ω-–∏–∑–º–µ–Ω–µ–Ω–∏–π

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```typescript
// lib/types/category.ts
export type Category = {
  id: string;
  user_id: string;
  name: string;
  type: "income" | "expense";
  icon: string | null;
  color: string | null; // NULL –¥–ª—è –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π (–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)
  parent_id: string | null;
  sort_order: number;
  is_archived: boolean;
  is_system: boolean;
  created_at: string;
  updated_at: string;
};

export type CategoryWithChildren = Category & {
  children?: CategoryWithChildren[];
};
```

**–í–∞–∂–Ω–æ –æ —Ü–≤–µ—Ç–∞—Ö:**

- –í–µ—Ä—Ö–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (parent_id = NULL) –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
- –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (parent_id != NULL) –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å color = NULL –¥–ª—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- –§—É–Ω–∫—Ü–∏—è `getCategoryColorWithInheritance()` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç —Ü–≤–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è

## 3. –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ

### –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

1. **YNAB (You Need A Budget)**
   - –ß—ë—Ç–∫–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
   - –ì—Ä—É–ø–ø—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã")
   - –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - URL: https://www.youneedabudget.com

2. **Mint (Intuit)**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º

3. **PocketGuard**
   - –ü—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   - –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω –∫–∞—Ç–µ–≥–æ—Ä–∏–π

4. **Wallet (BudgetBakers)**
   - –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –¶–≤–µ—Ç–æ–≤–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
   - –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–∏–∑–∞–π–Ω—É

**–ü—Ä–∏–Ω—Ü–∏–ø—ã:**

1. **–ò–µ—Ä–∞—Ä—Ö–∏—è –¥–æ 3 —É—Ä–æ–≤–Ω–µ–π** (–≤–µ—Ä—Ö–Ω—è—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è ‚Üí –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è ‚Üí –ø–æ–¥-–ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è)
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞: 3 —É—Ä–æ–≤–Ω—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
   - –ü—Ä–∏–º–µ—Ä: "–ï–¥–∞ > –ü—Ä–æ–¥—É–∫—Ç—ã > –ú—è—Å–æ –∏ –ø—Ç–∏—Ü–∞"
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è —É—Ä–æ–≤–Ω–µ–π

2. **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤**
   - –í–µ—Ä—Ö–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–º–µ—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞
   - –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç —Ü–≤–µ—Ç –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è (color = NULL)
   - –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —É—Ç–∏–ª–∏—Ç—É `getCategoryColorWithInheritance()`

3. **–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–µ**
   - –ù–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ)
   - –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è

4. **–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º**
   - –ù–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–≤–µ—Ä—Ö—É
   - –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

5. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
   - –ò–∫–æ–Ω–∫–∞ + —Ü–≤–µ—Ç = –±—ã—Å—Ç—Ä–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
   - –ë–æ–ª–µ–µ 50 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫ –∏–∑ lucide-react
   - –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –≤–µ—Ä—Ö–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
   - –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤ –¥–ª—è –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π

6. **–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**
   - –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
   - –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É (–¥–æ—Ö–æ–¥—ã/—Ä–∞—Å—Ö–æ–¥—ã)
   - –§–∏–ª—å—Ç—Ä –ø–æ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º

## 4. –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (MVP)

- [ ] –¢–∏–ø `Category` –≤ `lib/types/category.ts`
- [ ] –•—É–∫ `useCategories` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `CategoryList` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `CategoryForm` ‚Äî —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/dashboard/categories` —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- [ ] –ü–µ—Ä–µ–≤–æ–¥—ã –≤ `messages/en.json` –∏ `messages/ru.json`

### –≠—Ç–∞–ø 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏

- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `CategorySelector` –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `TransactionForm`
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ —Å–ø–∏—Å–∫–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### –≠—Ç–∞–ø 3: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- [ ] Drag-and-drop –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (–¥–µ—Å–∫—Ç–æ–ø)
- [ ] –ê—Ä—Ö–∏–≤–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- [ ] –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π

### –≠—Ç–∞–ø 4: –û—Ñ–ª–∞–π–Ω-–ø–æ–¥–¥–µ—Ä–∂–∫–∞ (–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ IndexedDB)

- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —á–µ—Ä–µ–∑ `SyncManager`
- [ ] –õ–æ–∫–∞–ª—å–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –û—Ñ–ª–∞–π–Ω-—Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## 5. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è

```
components/features/categories/
‚îú‚îÄ‚îÄ CategoryList.tsx          # –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–¥–µ—Ä–µ–≤–æ/–≥—Ä—É–ø–ø—ã)
‚îú‚îÄ‚îÄ CategoryItem.tsx          # –≠–ª–µ–º–µ–Ω—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚îú‚îÄ‚îÄ CategoryForm.tsx          # –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ CategorySelector.tsx       # –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)
‚îú‚îÄ‚îÄ CategoryTree.tsx           # –î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îî‚îÄ‚îÄ CategoryIconPicker.tsx    # –í—ã–±–æ—Ä –∏–∫–æ–Ω–∫–∏
```

## 6. –•—É–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è

```
lib/hooks/
‚îî‚îÄ‚îÄ useCategories.ts           # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
```

## 7. –ü–µ—Ä–µ–≤–æ–¥—ã

–î–æ–±–∞–≤–∏—Ç—å –≤ `messages/en.json` –∏ `messages/ru.json`:

```json
{
  "categories": {
    "title": "Categories",
    "add": "Add Category",
    "edit": "Edit Category",
    "delete": "Delete Category",
    "archive": "Archive",
    "unarchive": "Unarchive",
    "income": "Income",
    "expense": "Expense",
    "name": "Name",
    "type": "Type",
    "parent": "Parent Category",
    "icon": "Icon",
    "color": "Color",
    "noParent": "No parent (top level)",
    "empty": "No categories yet",
    "emptyDescription": "Create your first category to start organizing your finances",
    "search": "Search categories",
    "filter": {
      "all": "All",
      "income": "Income only",
      "expense": "Expense only",
      "archived": "Archived"
    }
  }
}
```

## 8. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ù–∞—á–∞—Ç—å —Å –ø—Ä–æ—Å—Ç–æ–≥–æ**: –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –±–µ–∑ –∏–µ—Ä–∞—Ä—Ö–∏–∏, –∑–∞—Ç–µ–º –¥–æ–±–∞–≤–∏—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: shadcn/ui (Card, Button, Input, Select)
3. **–°–ª–µ–¥–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –ø—Ä–æ–µ–∫—Ç–∞**: –∫–∞–∫ –≤ BudgetForm, TransactionForm
4. **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript
5. **–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: –≤—Å–µ —Ç–µ–∫—Å—Ç—ã —á–µ—Ä–µ–∑ next-intl
6. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: –º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ
