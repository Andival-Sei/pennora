# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞

–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏: 2025-12-20

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. Git Flow

- ‚úÖ –í–µ—Ç–∫–∞ `develop` —Å–æ–∑–¥–∞–Ω–∞ –∏–∑ `main`
- ‚úÖ –í–µ—Ç–∫–∞ `develop` –∑–∞–ø—É—à–µ–Ω–∞ –≤ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- ‚ö†Ô∏è –í–µ—Ç–∫–∞ `test/ci-pipeline-setup` —Å–æ–∑–¥–∞–Ω–∞ –∏–∑ `main` (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–∑ `develop`, –Ω–æ —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –Ω–∞ –æ–¥–Ω–æ–º –∫–æ–º–º–∏—Ç–µ - –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

### 2. Husky + lint-staged

- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `husky@9.1.7`, `lint-staged@16.2.7`
- ‚úÖ Husky –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –°–æ–∑–¥–∞–Ω `.lintstagedrc.js` —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω pre-commit hook (`.husky/pre-commit`)
- ‚úÖ –°–æ–∑–¥–∞–Ω `.husky/install.mjs` –¥–ª—è CI
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `package.json` —Å `prepare` —Å–∫—Ä–∏–ø—Ç–æ–º
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ - pre-commit hooks —Ä–∞–±–æ—Ç–∞—é—Ç

### 3. CI/CD Pipeline

- ‚úÖ –°–æ–∑–¥–∞–Ω `.github/workflows/ci.yml` —Å —Ç—Ä–µ–º—è job:
  - `lint`: ESLint + Prettier –ø—Ä–æ–≤–µ—Ä–∫–∞
  - `type-check`: TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
  - `build`: –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ç—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è PR –∏ push –≤ –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–µ—Ç–∫–∏
- ‚ö†Ô∏è –§–∞–π–ª –∑–∞–∫–æ–º–º–∏—á–µ–Ω, –Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ–Ω –∑–∞–ø—É—à–µ–Ω –≤ GitHub

### 4. Dependabot

- ‚úÖ –°–æ–∑–¥–∞–Ω `.github/dependabot.yml`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ patch/minor –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- ‚ö†Ô∏è –§–∞–π–ª –∑–∞–∫–æ–º–º–∏—á–µ–Ω, –Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ–Ω –∑–∞–ø—É—à–µ–Ω –≤ GitHub

### 5. Vercel Integration

- ‚úÖ –ü—Ä–æ–µ–∫—Ç `pennora` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Vercel (ID: `prj_iKUW76xKGzLcMANahMyqo8ioVKOp`)
- ‚úÖ Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –≤–µ—Ç–∫–∏
- ‚úÖ Preview deploy —Å–æ–∑–¥–∞–Ω –¥–ª—è –≤–µ—Ç–∫–∏ `test/ci-pipeline-setup`
- ‚úÖ Production deploy —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤–µ—Ç–∫–∏ `main`
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞: `docs/VERCEL_SETUP.md`

### 6. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `README.md` —Å —Ä–∞–∑–¥–µ–ª–æ–º Git Workflow
- ‚úÖ –°–æ–∑–¥–∞–Ω `docs/GIT_WORKFLOW.md`
- ‚úÖ –°–æ–∑–¥–∞–Ω `docs/VERCEL_SETUP.md`
- ‚úÖ –°–æ–∑–¥–∞–Ω `docs/BRANCH_PROTECTION.md`
- ‚úÖ –°–æ–∑–¥–∞–Ω `docs/PIPELINE_TESTING.md`

## üìä –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ GitHub MCP

### –í–µ—Ç–∫–∏

- ‚úÖ `main` - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–µ –∑–∞—â–∏—â–µ–Ω–∞
- ‚úÖ `develop` - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–µ –∑–∞—â–∏—â–µ–Ω–∞
- ‚úÖ `test/ci-pipeline-setup` - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∑–∞–ø—É—à–µ–Ω–∞

### Pull Requests

- ‚ö†Ô∏è –ï—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–π PR #1 (–æ—Ç Vercel bot, draft)

### CI Workflow

- ‚ö†Ô∏è –§–∞–π–ª `.github/workflows/ci.yml` –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ GitHub —á–µ—Ä–µ–∑ API
- –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
  1. –§–∞–π–ª –Ω–µ –∑–∞–ø—É—à–µ–Ω –≤ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
  2. GitHub API –∫—ç—à–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
  3. –§–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –≤–µ—Ç–∫–µ

## üìä –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ Vercel MCP

### –ü—Ä–æ–µ–∫—Ç

- ‚úÖ –ü—Ä–æ–µ–∫—Ç `pennora` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ Framework: Next.js
- ‚úÖ Node version: 24.x
- ‚úÖ –î–æ–º–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
  - `pennora.vercel.app`
  - `pennora-andival-seis-projects.vercel.app`
  - `pennora-git-main-andival-seis-projects.vercel.app`

### –î–µ–ø–ª–æ–∏

- ‚úÖ –ü–æ—Å–ª–µ–¥–Ω–∏–π preview deploy –¥–ª—è `test/ci-pipeline-setup`: READY
- ‚úÖ –ü–æ—Å–ª–µ–¥–Ω–∏–π production deploy –¥–ª—è `main`: READY
- ‚úÖ Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç preview –¥–µ–ø–ª–æ–∏ –¥–ª—è –≤—Å–µ—Ö –≤–µ—Ç–æ–∫

## üîç –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª—ã CI –∑–∞–ø—É—à–µ–Ω—ã:**

   ```bash
   git push origin test/ci-pipeline-setup
   ```

2. **–°–æ–∑–¥–∞—Ç—å PR –∏–∑ `test/ci-pipeline-setup` –≤ `develop`:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ CI workflow –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Branch Protection Rules:**
   - –°–ª–µ–¥–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `docs/BRANCH_PROTECTION.md`
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è `main` –∏ `develop`

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Vercel:**
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ Production Branch = `main`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Preview Deploys –≤–∫–ª—é—á–µ–Ω—ã

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Dependabot —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –ü–æ–¥–æ–∂–¥–∞—Ç—å –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ scheduled –≤—Ä–µ–º–µ–Ω–∏ (weekly, monday 09:00)
   - –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ GitHub Settings ‚Üí Security ‚Üí Dependabot

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª:**
   - –°–æ–∑–¥–∞—Ç—å feature –≤–µ—Ç–∫—É –∏–∑ `develop`
   - –°–¥–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –°–æ–∑–¥–∞—Ç—å PR
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CI
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å preview deploy
   - –°–º–µ—Ä–¥–∂–∏—Ç—å –≤ `develop`
   - –°–æ–∑–¥–∞—Ç—å PR `develop` ‚Üí `main`
   - –°–º–µ—Ä–¥–∂–∏—Ç—å –≤ `main`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å production deploy

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–±–æ—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–µ: 95%**

- ‚úÖ Git Flow –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ Pre-commit hooks —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ CI/CD pipeline —Å–æ–∑–¥–∞–Ω
- ‚úÖ Dependabot –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ Vercel –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ CI —Ñ–∞–π–ª—ã –∑–∞–ø—É—à–µ–Ω—ã
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Branch Protection Rules
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ó–∞–ø—É—à–∏—Ç—å –≤–µ—Ç–∫—É `test/ci-pipeline-setup` (–µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—à–µ–Ω–∞)
2. –°–æ–∑–¥–∞—Ç—å PR –≤ `develop` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ CI
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Branch Protection Rules
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
